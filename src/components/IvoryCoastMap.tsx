import React, { useState } from 'react';
import { IVORY_COAST_DISTRICTS } from '../constants/constants';

interface IvoryCoastMapProps {
    selectedRegion: string | null;
    onSelectRegion: (regionKey: string | null) => void;
}

const districtsPaths: { [key: string]: string } = {
    Denguele: "M92.6 100.2 92.5 87.1 81 84.6 77.8 71.3 70.3 71.2 62.1 75.3 54.4 72.8 53.6 57.5 42.1 50.1 27.6 53.9 22.3 40.8 33.9 31.8 32 18.2 40.9 9.8 55.4 16.1 72 13.9 83.3 22.1 88.5 35.8 101.9 41.5 102.5 54.1 110.1 57.7 110.4 75.9 100.9 84.7 92.6 100.2Z",
    Savanes: "M248.8 102.4 238.3 98.6 228.6 106.1 223.7 94.2 231.2 84.1 223.8 72.5 212.4 76.5 204.9 69 196.3 73.1 190.1 63.8 181.6 66 170.8 55.7 167.3 42.2 154.5 40.1 140.2 41.2 126.8 35 111.4 39.8 101.9 41.5 88.5 35.8 83.3 22.1 72 13.9 55.4 16.1 40.9 9.8 32 18.2 33.9 31.8 22.3 40.8 27.6 53.9 42.1 50.1 53.6 57.5 54.4 72.8 62.1 75.3 70.3 71.2 77.8 71.3 81 84.6 92.5 87.1 92.6 100.2 100.9 84.7 110.4 75.9 110.1 57.7 102.5 54.1 117.8 100.1 130.3 103.7 131.6 112.9 146.4 116.3 162.3 115.1 170.9 123.6 179.9 123.9 188.8 131 202.4 121.3 206.5 103.8 221.3 105.1 248.8 102.4Z",
    Zanzan: "M328.2 178.6 322.9 167.3 327.3 154.5 322.5 146.3 327.5 136.6 317.8 132.8 319.4 121.3 310.8 116.5 314.1 106.3 308.1 102.1 308.4 87.8 296.8 86.3 294.6 74.8 283.5 77.2 273.7 73.1 270.5 61.3 261.2 63.3 248.8 67.9 248.8 102.4 221.3 105.1 206.5 103.8 202.4 121.3 188.8 131 179.9 123.9 187.3 145.5 198.8 152.8 210.8 152.3 223.5 158.3 238 160.7 253.2 165.6 269.1 172.9 284 182.2 291.6 189.6 308.4 188.1 328.2 178.6Z",
    Woroba: "M140.2 172.4 129.1 165.3 120.3 170.8 108.6 167.6 102.3 178.1 92.6 174.5 84.4 180.2 87.2 195 78 198.9 71.9 193.3 64.9 198.3 71.1 212.1 62.1 219.8 64.5 229.3 75.3 226.7 86 216.5 92.6 211.2 104.9 204.4 114.7 197.8 126.3 192.1 117.8 178.3 110.1 174.4 110.4 175.9 117.8 100.1 102.5 54.1 101.9 41.5 111.4 39.8 126.8 35 140.2 41.2 154.5 40.1 167.3 42.2 170.8 55.7 181.6 66 190.1 63.8 196.3 73.1 204.9 69 212.4 76.5 223.8 72.5 231.2 84.1 223.7 94.2 228.6 106.1 238.3 98.6 248.8 102.4 221.3 105.1 206.5 103.8 202.4 121.3 188.8 131 179.9 123.9 170.9 123.6 162.3 115.1 146.4 116.3 131.6 112.9 130.3 103.7 140.2 147.2 148.5 153.2 155.6 150.2 155.1 161.4 140.2 172.4Z",
    ValleeDuBandama: "M202.4 121.3 188.8 131 179.9 123.9 170.9 123.6 162.3 115.1 146.4 116.3 131.6 112.9 130.3 103.7 140.2 147.2 148.5 153.2 155.6 150.2 155.1 161.4 140.2 172.4 150.1 184.4 162.5 186.2 172.2 176.6 182.2 181.2 187.3 171.7 198.8 165.9 208.7 169.5 219.7 165.7 223.5 158.3 210.8 152.3 198.8 152.8 187.3 145.5 202.4 121.3Z",
    Montagnes: "M71.1 212.1 64.9 198.3 71.9 193.3 78 198.9 87.2 195 84.4 180.2 92.6 174.5 102.3 178.1 108.6 167.6 120.3 170.8 129.1 165.3 140.2 172.4 126.3 192.1 114.7 197.8 104.9 204.4 92.6 211.2 86 216.5 75.3 226.7 64.5 229.3 62.1 219.8 71.1 212.1Z",
    SassandraMarahoue: "M140.2 172.4 150.1 184.4 162.5 186.2 172.2 176.6 182.2 181.2 187.3 171.7 198.8 165.9 208.7 169.5 197.8 184.1 202.8 193.9 196.2 201.2 188.9 197.9 177.3 203.4 179.5 214.3 168.1 220.1 155.3 218.4 141.2 225.2 133.7 218.8 126.1 224 117.8 214.5 104.9 204.4 114.7 197.8 126.3 192.1 140.2 172.4Z",
    Lacs: "M253.2 165.6 238 160.7 223.5 158.3 219.7 165.7 208.7 169.5 197.8 184.1 202.8 193.9 196.2 201.2 188.9 197.9 177.3 203.4 179.5 214.3 189.5 224 200.2 221.7 210.4 227.4 219.8 221.3 228.3 226.5 238.1 218.6 244.6 210.8 258.9 209.7 265.4 199.3 270.2 191.1 278.4 184.3 269.1 172.9 253.2 165.6Z",
    Comoe: "M328.2 178.6 308.4 188.1 291.6 189.6 284 182.2 269.1 172.9 278.4 184.3 270.2 191.1 265.4 199.3 258.9 209.7 263.9 219.6 273.7 224.2 282.8 234.3 282.9 248.8 290.8 255.1 303.4 251.2 314.5 242.3 322.9 230.1 333.3 216.5 337.8 196.6 328.2 178.6Z",
    GohDjiboua: "M179.5 214.3 168.1 220.1 155.3 218.4 141.2 225.2 133.7 218.8 126.1 224 117.8 214.5 125.7 232.1 133.5 241.6 148.2 245.9 163.6 241.4 175.9 249.7 186.7 245.2 189.5 233.9 189.5 224 179.5 214.3Z",
    BasSassandra: "M133.5 241.6 125.7 232.1 117.8 214.5 104.9 204.4 92.6 211.2 86 216.5 75.3 226.7 64.5 229.3 62.1 219.8 71.1 212.1 63.8 244.1 72.8 259.9 87.8 268.4 100.3 264.9 111.4 256.4 121.7 250.6 133.5 241.6Z",
    Lagunes: "M282.8 234.3 273.7 224.2 263.9 219.6 258.9 209.7 244.6 210.8 238.1 218.6 228.3 226.5 219.8 221.3 210.4 227.4 200.2 221.7 189.5 224 189.5 233.9 186.7 245.2 201.3 252.1 214.3 245.8 222.9 253.9 241.1 251.2 254.1 247.9 265.2 240.2 274.6 238.6 282.8 234.3Z",
    Yamoussoukro: "M196.2 201.2 188.9 197.9 177.3 203.4 179.5 214.3 189.5 224 200.2 221.7 210.4 227.4 219.8 221.3 228.3 226.5 238.1 218.6 244.6 210.8 258.9 209.7 265.4 199.3 270.2 191.1 278.4 184.3 269.1 172.9 253.2 165.6 238 160.7 223.5 158.3 219.7 165.7 208.7 169.5 197.8 184.1 202.8 193.9 196.2 201.2Z",
    Abidjan: "M254.1 247.9 241.1 251.2 222.9 253.9 214.3 245.8 201.3 252.1 186.7 245.2 175.9 249.7 163.6 241.4 148.2 245.9 133.5 241.6 121.7 250.6 111.4 256.4 100.3 264.9 87.8 268.4 72.8 259.9 63.8 244.1 71.1 212.1 64.5 229.3 75.3 226.7 86 216.5 92.6 211.2 104.9 204.4 117.8 214.5 126.1 224 133.7 218.8 141.2 225.2 155.3 218.4 168.1 220.1 179.5 214.3 189.5 224 189.5 233.9 201.3 252.1 214.3 245.8 222.9 253.9 241.1 251.2 254.1 247.9Z"
};


const districtKeys = Object.keys(districtsPaths);

const IvoryCoastMap: React.FC<IvoryCoastMapProps> = ({ selectedRegion, onSelectRegion }) => {
    const [hoveredRegion, setHoveredRegion] = useState<string | null>(null);

    return (
        <div className="w-full max-w-sm mx-auto relative">
            <svg viewBox="0 0 350 300" className="w-full h-auto" aria-label="Carte de la CÃ´te d'Ivoire">
                <g>
                    {districtKeys.map(districtKey => (
                        <path
                            key={districtKey}
                            d={districtsPaths[districtKey]}
                            className="transition-all duration-200 cursor-pointer"
                            fill={selectedRegion === districtKey ? '#DC2626' : (hoveredRegion === districtKey ? '#4B5563' : '#1A1A1A')}
                            stroke="#FFFFFF"
                            strokeWidth="0.5"
                            onMouseEnter={() => setHoveredRegion(districtKey)}
                            onMouseLeave={() => setHoveredRegion(null)}
                            onClick={() => onSelectRegion(selectedRegion === districtKey ? null : districtKey)}
                        >
                            <title>{IVORY_COAST_DISTRICTS[districtKey]}</title>
                        </path>
                    ))}
                </g>
            </svg>
            {hoveredRegion && (
                <div className="absolute top-0 left-1/2 -translate-x-1/2 bg-black bg-opacity-70 text-white px-3 py-1 rounded-md text-sm pointer-events-none shadow-lg">
                    {IVORY_COAST_DISTRICTS[hoveredRegion]}
                </div>
            )}
        </div>
    );
};

export default IvoryCoastMap;